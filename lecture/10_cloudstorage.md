# 10. Використання хмарних сховищ в інтегрованих системах керування

Сховища в IIoT

•місце збереження інформації:

•IoT Device

•Edge Gateway 

•Cloud

•необхідність синхронізації

•різні формати в залежності від призначення



•призначення (див. DigTwin):

•квазістатична інформація про актив

•історія (часово-базисна)

•файли (допомоги, графіка, образи завантажень…)

•….



**Реляційні СКБД (****SQL****-подібні)** 

**Реляційні хмарні БД**

•є сукупністю таблиць, пов'язаних відношеннями

•на сьогоднішній день найбільш популярні

•у великій кількості присутні у якості хмарних сервісів, наприклад в IBM – DB2 on Cloud



![](cloudstorage/1.png)



**Реляційна хмарна** **DB2**

•в LITE дозволяє використовувати тільки одну Shema (БД), таку як ім'я користувача 

![](cloudstorage/2.png)



![](cloudstorage/3.png)

**Налаштування користувача на користування сервісів** **DB2**

•Manage -> Access IAM -> Users

•вибрати свого користувача

•Зайти в Access Polices -> Assign Access: добавити усі дозволи до DB2

![](cloudstorage/4.png)

**Створення сервісу хмарної** **DB2**

•створити сервіс

•у Service Credential створити Credential

•запустити консоль Manage->Open Console 

![](cloudstorage/5.png)



![](cloudstorage/6.png)

**Робота з консоллю** **DB2**

•в LITE створюється Shema (БД), таку як ім'я користувача 

![](cloudstorage/7.png)



![](cloudstorage/8.png)

**Зв'язок з "землею"** **DB2** **(Утиліти)**

за необхідності на клієнтську машину завантажити пакет драйверів

![](cloudstorage/9.png)

**Зв'язок з "землею"** **DB2** **(клієнти** **ODBC****)**

•драйвер ставиться з IBM DB2 driver package

![](cloudstorage/10.png)

**Приклад клієнти** **ODBC** **-** **Citect**



![](cloudstorage/11.png)

**NoSQL****:** **document-oriented**  

**document-oriented**

•документ - атомарна одиниця:

•аналогія запису в реляційних БД

•має унікальний ідентифікатор (ключ) в межах БД

•напівструктурована інформація:

•не потребує схеми

•можна доступитися до частини документу (наприклад за полем)

•з документу можна вилучити інформацію для індексації – пошук за змістом

•може включати метадокументи для організації індексів, захисту та інших налаштувань

•документи можуть групуватися, будуватися залежності

![](cloudstorage/12.png)

**Переваги** **Document oriented** **перед реляційними** 

•краща продуктивність для великих об'ємів даних

•не потребує схеми

•легше масштабуються, можуть бути децентралізовані

•можна зберігати неструктуровану інформацію

•простий інтерфейс

**Couch DB**

[https://couchdb.apache.org](https://couchdb.apache.org/)[/](https://couchdb.apache.org/)

•безкоштовне ПЗ

•ставиться на різні платформи

•інтерфейси:

•Fauxton (WEB-консоль)

•REST API

•документи JSON

•реплікація master-master

**Couch DB** **Адміністрування****:** **Fauxton**

•[http](http://127.0.0.1:5984/_utils/)[://127.0.0.1:5984/_utils/#](http://127.0.0.1:5984/_utils/)[login](http://127.0.0.1:5984/_utils/) – веб застосунок

•конфігурування, операції з БД, документами, індексами, реплікаціями і т.п

![](cloudstorage/13.png)

**Реалізація в** **Clouds** **–** **IBM** **Cloudant**



![](cloudstorage/14.png)



![](cloudstorage/15.png)

**REST API**

•**Server**

•**Databases**

•Documents

•Replication



![](cloudstorage/16.png)



![](cloudstorage/17.png)

**Documents**

•кожен документ має унікальний в БД ID (string)

•спеціальне поле "_id"

•формується при записуванні

•можна отримати з БД унікальний ідентифікатор UUID (GUID) для цього

•зміна документа шляхом його повної заміни

•при заміні змінюється версія документа, записується в поле "_rev"

![](cloudstorage/18.png)



![](cloudstorage/19.png)



![](cloudstorage/20.png)



![](cloudstorage/21.png)



![](cloudstorage/22.png)



![](cloudstorage/23.png)



![](cloudstorage/24.png)



![](cloudstorage/25.png)

![](cloudstorage/26.png)

![](cloudstorage/27.png)



![](cloudstorage/28.png)

